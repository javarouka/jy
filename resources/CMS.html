<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÏûÑÏÉÅÏã¨Î¶¨Ï†ÑÎ¨∏Í∞Ä ÏàòÎ†® Í¥ÄÎ¶¨ ÏãúÏä§ÌÖú</title>
    <script src="https://cdn.jsdelivr.net/npm/lucide@latest/dist/umd/lucide.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #dbeafe 0%, #e0e7ff 100%);
            min-height: 100vh;
            padding: 1rem;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .header h1 {
            color: #1f2937;
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
        }
        
        .header p {
            color: #6b7280;
            font-size: 1.125rem;
        }
        
        .card {
            background: white;
            border-radius: 0.75rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .goal-section h2 {
            color: #1f2937;
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .goal-inputs {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .goal-inputs input {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #d1d5db;
            border-radius: 0.5rem;
            font-size: 1rem;
            outline: none;
            transition: all 0.2s;
        }
        
        .goal-inputs input:focus {
            border-color: #6366f1;
            box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.1);
        }
        
        .deadline-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            align-items: end;
        }
        
        .deadline-info {
            background: #eef2ff;
            border: 1px solid #c7d2fe;
            border-radius: 0.5rem;
            padding: 0.75rem;
        }
        
        .deadline-info span {
            color: #3730a3;
            font-weight: 500;
        }
        
        .year-button {
            padding: 0.75rem 1rem;
            border: 1px solid #d1d5db;
            border-radius: 0.5rem;
            background: #f9fafb;
            color: #374151;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
            line-height: 1.2;
        }
        
        .year-button:hover {
            background: #f3f4f6;
            border-color: #9ca3af;
        }
        
        .year-button.active {
            background: #6366f1;
            color: white;
            border-color: #6366f1;
        }
        
        .dashboard h3 {
            color: #1f2937;
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
        }
        
        .category-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1rem;
        }
        
        .category-card {
            padding: 1rem;
            border: 1px solid;
            border-radius: 0.5rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .category-card:hover {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        
        .category-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 0.75rem;
        }
        
        .category-hours {
            font-size: 1.125rem;
            font-weight: bold;
        }
        
        .category-name {
            font-weight: 500;
            color: #1f2937;
            margin-bottom: 0.5rem;
        }
        
        .category-time {
            font-size: 0.875rem;
            color: #6b7280;
        }
        
        .tabs {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
        }
        
        .tab {
            padding: 0.75rem 1rem;
            border-radius: 0.5rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
            transition: all 0.2s;
            border: none;
            background: #f3f4f6;
            color: #374151;
        }
        
        .tab:hover {
            background: #e5e7eb;
        }
        
        .tab.active {
            background: #6366f1;
            color: white;
        }
        
        .category-info {
            padding: 1rem;
            border-radius: 0.5rem;
            margin-bottom: 1.5rem;
        }
        
        .category-info h3 {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .category-info p {
            color: #374151;
            margin-bottom: 0.5rem;
        }
        
        .add-task-section h3 {
            color: #1f2937;
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .add-task-form {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr 1fr 1fr;
            gap: 0.75rem;
            align-items: center;
        }
        
        .form-row input, .form-row button {
            padding: 0.75rem;
            border: 1px solid #d1d5db;
            border-radius: 0.5rem;
            outline: none;
            font-size: 0.875rem;
        }
        
        .form-row input:focus {
            border-color: #6366f1;
            box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.1);
        }
        
        .time-inputs {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .time-input {
            width: 60px !important;
            text-align: center;
        }
        
        .add-button {
            background: #6366f1;
            color: white;
            font-weight: 500;
            cursor: pointer;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            transition: all 0.2s;
        }
        
        .add-button:hover {
            background: #4f46e5;
        }
        
        .task-list h3 {
            color: #1f2937;
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .task-item {
            padding: 1rem;
            border: 1px solid;
            border-radius: 0.5rem;
            margin-bottom: 0.75rem;
            transition: all 0.2s;
            background: #f0fdf4;
            border-color: #bbf7d0;
        }
        
        .task-content {
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
        }
        
        .task-checkbox {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            border: 2px solid;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 0.25rem;
            flex-shrink: 0;
            background: #16a34a;
            border-color: #16a34a;
            color: white;
        }
        
        .task-info {
            flex: 1;
        }
        
        .task-title {
            font-weight: 500;
            margin-bottom: 0.25rem;
            color: #16a34a;
        }
        
        .task-hours {
            display: inline-block;
            margin-left: 0.5rem;
            padding: 0.25rem 0.5rem;
            font-size: 0.75rem;
            border-radius: 9999px;
        }
        
        .task-details {
            font-size: 0.875rem;
            margin-bottom: 0.5rem;
            color: #16a34a;
        }
        
        .task-meta {
            font-size: 0.875rem;
            color: #6b7280;
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .task-date {
            color: #2563eb;
            font-weight: 500;
        }
        
        .delete-button {
            width: 32px;
            height: 32px;
            color: #9ca3af;
            background: none;
            border: none;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
            margin-top: 0.25rem;
            flex-shrink: 0;
        }
        
        .delete-button:hover {
            color: #ef4444;
            background: #fef2f2;
        }
        
        .empty-state {
            text-align: center;
            padding: 3rem 0;
        }
        
        .empty-state .icon {
            opacity: 0.3;
            margin-bottom: 1rem;
        }
        
        .empty-state p {
            color: #6b7280;
            font-size: 1.125rem;
        }
        
        .empty-state p:last-child {
            color: #9ca3af;
            font-size: 1rem;
        }
        
        .subcategory {
            margin-bottom: 1.5rem;
        }
        
        .subcategory h4 {
            font-weight: 500;
            color: #374151;
            margin-bottom: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .subcategory-count {
            font-size: 0.875rem;
            color: #6b7280;
        }
        
        .subcategory-empty {
            color: #9ca3af;
            font-size: 0.875rem;
            margin-left: 1.5rem;
        }
        
        .subcategory-tasks {
            margin-left: 1rem;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        
        .motivation {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            color: white;
            text-align: center;
            margin-top: 1.5rem;
        }
        
        .motivation h4 {
            font-size: 1.25rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }
        
        .motivation p {
            color: rgba(199, 210, 254, 1);
        }
        
        /* Color variants */
        .purple { background: #faf5ff; border-color: #e9d5ff; color: #7c3aed; }
        .purple-icon { color: #7c3aed; }
        .purple-button { background: #7c3aed; }
        .purple-button:hover { background: #6d28d9; }
        .purple-hours { background: #faf5ff; border-color: #e9d5ff; color: #7c3aed; }
        
        .green { background: #f0fdf4; border-color: #bbf7d0; color: #16a34a; }
        .green-icon { color: #16a34a; }
        .green-button { background: #16a34a; }
        .green-button:hover { background: #15803d; }
        .green-hours { background: #f0fdf4; border-color: #bbf7d0; color: #16a34a; }
        
        .blue { background: #eff6ff; border-color: #bfdbfe; color: #2563eb; }
        .blue-icon { color: #2563eb; }
        .blue-button { background: #2563eb; }
        .blue-button:hover { background: #1d4ed8; }
        .blue-hours { background: #eff6ff; border-color: #bfdbfe; color: #2563eb; }
        
        .indigo { background: #eef2ff; border-color: #c7d2fe; color: #4f46e5; }
        .indigo-icon { color: #4f46e5; }
        .indigo-button { background: #4f46e5; }
        .indigo-button:hover { background: #4338ca; }
        .indigo-hours { background: #eef2ff; border-color: #c7d2fe; color: #4f46e5; }
        
        .orange { background: #fff7ed; border-color: #fed7aa; color: #ea580c; }
        .orange-icon { color: #ea580c; }
        .orange-button { background: #ea580c; }
        .orange-button:hover { background: #dc2626; }
        .orange-hours { background: #fff7ed; border-color: #fed7aa; color: #ea580c; }
        
        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .deadline-section {
                grid-template-columns: 1fr;
            }
            
            .category-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .tab .tab-text-full {
                display: none;
            }
            
            .tab .tab-text-short {
                display: inline;
            }
        }
        
        @media (min-width: 769px) {
            .tab .tab-text-full {
                display: inline;
            }
            
            .tab .tab-text-short {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>
                <i data-lucide="user"></i>
                ÏûÑÏÉÅÏã¨Î¶¨Ï†ÑÎ¨∏Í∞Ä ÏàòÎ†®Í¥ÄÎ¶¨
            </h1>
            <p>ÏÑùÏÇ¨Í≥ºÏ†ï/ÏÑùÏÇ¨ÌïôÏúÑ Ï∑®ÎìùÏûê 3ÎÖÑ ÏàòÎ†®Í≥ºÏ†ï Ï≤¥Í≥ÑÏ†Å Í¥ÄÎ¶¨</p>
            <p style="font-size: 0.875rem; color: #6b7280; margin-top: 0.5rem;">‚úÖ ÏôÑÎ£åÎêú ÌôúÎèô Í∏∞Î°ù | üìä Ïã§Ï†ú CSV Îç∞Ïù¥ÌÑ∞ ÏôÑÏ†Ñ Î∞òÏòÅ</p>
        </div>

        <!-- Goal Setting -->
        <div class="card goal-section">
            <h2>
                <i data-lucide="target"></i>
                ÏµúÏ¢Ö Î™©Ìëú Î∞è ÏàòÎ†® Ïó∞Ï∞®
            </h2>
            <div class="goal-inputs">
                <input type="text" id="finalGoal" placeholder="Íµ¨Ï≤¥Ï†ÅÏù∏ Î™©ÌëúÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî (Ïòà: 2027ÎÖÑ ÏûÑÏÉÅÏã¨Î¶¨Ï†ÑÎ¨∏Í∞Ä ÏûêÍ≤© Ï∑®Îìù)" value="2027ÎÖÑ ÏûÑÏÉÅÏã¨Î¶¨Ï†ÑÎ¨∏Í∞Ä ÏûêÍ≤© Ï∑®Îìù">
                <div class="deadline-section">
                    <div>
                        <label style="display: block; font-weight: 500; color: #374151; margin-bottom: 0.5rem;">
                            <i data-lucide="calendar" style="display: inline; width: 16px; height: 16px;"></i>
                            Î™©Ìëú Îã¨ÏÑ± ÏòàÏ†ïÏùº
                        </label>
                        <input type="date" id="goalDeadline">
                    </div>
                    <div id="deadlineInfo" class="deadline-info" style="display: none;">
                        <span id="deadlineText"></span>
                    </div>
                </div>
                
                <!-- Ïó∞Ï∞®Î≥Ñ ÌïÑÌÑ∞ -->
                <div style="display: flex; flex-wrap: wrap; gap: 0.5rem; margin-top: 1rem;">
                    <button id="yearAll" class="year-button active" onclick="setActiveYear('all')">
                        Ï†ÑÏ≤¥<br><span style="font-size: 0.75rem; opacity: 0.8;">Ï†ÑÏ≤¥ Í∏∞Í∞Ñ</span>
                    </button>
                    <button id="year1" class="year-button" onclick="setActiveYear(1)">
                        1ÎÖÑÏ∞®<br><span style="font-size: 0.75rem; opacity: 0.8;">2023.3.1 ~ 2024.2.29</span>
                    </button>
                    <button id="year2" class="year-button" onclick="setActiveYear(2)">
                        2ÎÖÑÏ∞®<br><span style="font-size: 0.75rem; opacity: 0.8;">2024.3.1 ~ 2025.2.28</span>
                    </button>
                    <button id="year3" class="year-button" onclick="setActiveYear(3)">
                        3ÎÖÑÏ∞®<br><span style="font-size: 0.75rem; opacity: 0.8;">2025.3.1 ~ 2026.2.28</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Ï†ÑÏ≤¥ ÏßÑÌñâ ÏÉÅÌô© ÎåÄÏãúÎ≥¥Îìú -->
        <div class="card dashboard">
            <h3>üìä Ï†ÑÏ≤¥ ÏàòÎ†® ÌòÑÌô© (Ïã§Ï†ú ÏôÑÎ£å Îç∞Ïù¥ÌÑ∞)</h3>
            <div class="category-grid" id="categoryGrid">
                <!-- Categories will be dynamically populated -->
            </div>
            
            <div style="margin-top: 0.75rem; padding: 0.5rem; background: linear-gradient(135deg, #dbeafe 0%, #e0e7ff 100%); border-radius: 0.5rem; border: 1px solid #c7d2fe;">
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 0.5rem; text-align: center;">
                    <div>
                        <div style="font-size: 1.125rem; font-weight: bold; color: #4f46e5;" id="totalHoursDisplay">
                            2,335h
                        </div>
                        <div style="font-size: 0.7rem; color: #6b7280;">Ï¥ù ÏôÑÎ£å ÏãúÍ∞Ñ</div>
                    </div>
                    <div>
                        <div style="font-size: 1.125rem; font-weight: bold; color: #7c3aed;">
                            884h
                        </div>
                        <div style="font-size: 0.7rem; color: #6b7280;">Ïã¨Î¶¨ÌèâÍ∞Ä</div>
                    </div>
                    <div>
                        <div style="font-size: 1.125rem; font-weight: bold; color: #16a34a;">
                            598h
                        </div>
                        <div style="font-size: 0.7rem; color: #6b7280;">Ïã¨Î¶¨ÏπòÎ£å</div>
                    </div>
                    <div>
                        <div style="font-size: 1.125rem; font-weight: bold; color: #2563eb;">
                            459h
                        </div>
                        <div style="font-size: 0.7rem; color: #6b7280;">Ï∞∏ÏÑùÍ∏∞Î°ù</div>
                    </div>
                    <div>
                        <div style="font-size: 1.125rem; font-weight: bold; color: #4f46e5;">
                            83h
                        </div>
                        <div style="font-size: 0.7rem; color: #6b7280;">Î∞úÌëúÍ∏∞Î°ù</div>
                    </div>
                    <div>
                        <div style="font-size: 1.125rem; font-weight: bold; color: #ea580c;">
                            313h
                        </div>
                        <div style="font-size: 0.7rem; color: #6b7280;">Ïó∞Íµ¨/Í∏∞ÌÉÄ</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Selected Category Management -->
        <div class="card">
            <!-- Category Tabs -->
            <div class="tabs" id="categoryTabs">
                <!-- Tabs will be dynamically populated -->
            </div>

            <!-- Category Info -->
            <div id="categoryInfo" class="category-info">
                <!-- Category information will be dynamically populated -->
            </div>

            <!-- Add Task Section -->
            <div class="add-task-section">
                <h3>
                    <i data-lucide="plus"></i>
                    ÏÉà Ìï≠Î™© Ï∂îÍ∞Ä
                </h3>
                <div class="add-task-form">
                    <input type="text" id="newTask" placeholder="ÌôúÎèôÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî">
                    <div class="form-row">
                        <input type="text" id="newTaskDetails" placeholder="ÏÉÅÏÑ∏ ÎÇ¥Ïö©">
                        <div class="time-inputs">
                            <input type="number" id="hours" placeholder="ÏãúÍ∞Ñ" min="0" max="23" class="time-input">
                            <span>ÏãúÍ∞Ñ</span>
                            <input type="number" id="minutes" placeholder="Î∂Ñ" min="0" max="59" step="5" class="time-input">
                            <span>Î∂Ñ</span>
                        </div>
                        <input type="date" id="taskDate">
                        <input type="datetime-local" id="newTaskDeadline">
                        <button type="button" id="addTaskBtn" class="add-button">
                            <i data-lucide="plus"></i>
                            Ï∂îÍ∞Ä
                        </button>
                    </div>
                </div>
            </div>

            <!-- Task List -->
            <div class="task-list">
                <h3>
                    <i data-lucide="check-circle-2"></i>
                    <span id="categoryTitle">Î™©Î°ù</span>
                </h3>
                <div id="taskList">
                    <!-- Tasks will be dynamically populated -->
                </div>
            </div>
        </div>

        <!-- Motivation -->
        <div id="motivationSection" class="card motivation" style="display: block;">
            <div id="motivationTitle">
                <div style="font-size: 1.25rem; font-weight: bold; margin-bottom: 0.5rem;">üèÜ "2027ÎÖÑ ÏûÑÏÉÅÏã¨Î¶¨Ï†ÑÎ¨∏Í∞Ä ÏûêÍ≤© Ï∑®Îìù" Îã¨ÏÑ±ÏùÑ Ìñ•Ìï¥ ÌôîÏù¥ÌåÖ!</div>
                <div style="color: rgba(199, 210, 254, 1); margin-bottom: 1rem;">
                    Ï†ÑÏ≤¥ ÏàòÎ†®Í≥ºÏ†ïÏù¥ Ï≤¥Í≥ÑÏ†ÅÏúºÎ°ú Í∏∞Î°ùÎêòÏóàÏäµÎãàÎã§. (ÌòÑÏû¨ ÏôÑÎ£å: 2,335ÏãúÍ∞Ñ)
                </div>
            </div>
            <p>Íæ∏Ï§ÄÌûà Ïù¥Ïñ¥Í∞ÄÍ≥† ÏûàÏñ¥Ïöî! ÏûÑÏÉÅÏã¨Î¶¨Ï†ÑÎ¨∏Í∞ÄÎ°úÏùò Ïó¨Ï†ïÏùÑ ÏùëÏõêÌï©ÎãàÎã§!</p>
        </div>
    </div>

    <script>
        // Global state
        let finalGoal = '2027ÎÖÑ ÏûÑÏÉÅÏã¨Î¶¨Ï†ÑÎ¨∏Í∞Ä ÏûêÍ≤© Ï∑®Îìù';
        let goalDeadline = '';
        let activeCategory = 'psychological_assessment';
        let activeYear = 'all';

        // Ïã§Ï†ú ÏàòÎ†® Îç∞Ïù¥ÌÑ∞ ÏôÑÏ†Ñ Î∞òÏòÅ - Ïó∞Ï∞®Î≥Ñ Îç∞Ïù¥ÌÑ∞ Ìè¨Ìï® (Ï¥ù 2,335ÏãúÍ∞Ñ 30Î∂Ñ)
        let tasks = {
            // Ïã¨Î¶¨ÌèâÍ∞Ä Ïã§Ïãú - Í∞Å ÏÇ¨Î°ÄÎ≥Ñ ÏÉÅÏÑ∏ Îç∞Ïù¥ÌÑ∞ (Ï¥ù 161Î°Ä, 884ÏãúÍ∞Ñ)
            psychological_assessment: [
                // 1ÎÖÑÏ∞® (2023.3.1 ~ 2024.2.29) - 50Î°Ä, 268ÏãúÍ∞Ñ
                {id: 1, text: 'Í≥ΩÏó∞Ïûê | Ïó¨Ïûê | 58ÏÑ∏', details: 'EOAD, pseudodementia | SNSB | 3ÏãúÍ∞Ñ', taskDate: '2023-03-22', hours: 3, minutes: 0, totalMinutes: 180, year: 1, completed: true, createdAt: '2023-03-22'},
                {id: 2, text: 'Í≥ΩÏó∞Ïûê | Ïó¨Ïûê | 58ÏÑ∏', details: 'EOAD, pseudodementia | K-MMSE-2 | 1ÏãúÍ∞Ñ', taskDate: '2023-03-22', hours: 1, minutes: 0, totalMinutes: 60, year: 1, completed: true, createdAt: '2023-03-22'},
                {id: 3, text: 'ÏµúÎ¨∏ÏòÅ | ÎÇ®Ïûê | 21ÏÑ∏', details: 'PTSD, Schizoid PD | Ï¢ÖÌï©ÌèâÍ∞Ä | 8ÏãúÍ∞Ñ', taskDate: '2023-03-06', hours: 8, minutes: 0, totalMinutes: 480, year: 1, completed: true, createdAt: '2023-03-06'},
                {id: 4, text: 'Ï†ïÎßêÎã§ | Ïó¨Ïûê | 71ÏÑ∏', details: 'Dementia | SNSB | 3ÏãúÍ∞Ñ', taskDate: '2023-04-03', hours: 3, minutes: 0, totalMinutes: 180, year: 1, completed: true, createdAt: '2023-04-03'},
                {id: 5, text: 'Ï†ïÎßêÎã§ | Ïó¨Ïûê | 71ÏÑ∏', details: 'Dementia | K-MMSE-2 | 1ÏãúÍ∞Ñ', taskDate: '2023-04-03', hours: 1, minutes: 0, totalMinutes: 60, year: 1, completed: true, createdAt: '2023-04-03'},
                {id: 6, text: 'ÏµúÏ¢ÖÍ¥ë | ÎÇ®Ïûê | 27ÏÑ∏', details: 'Substance use disorder | Ï¢ÖÌï©ÌèâÍ∞Ä | 8ÏãúÍ∞Ñ', taskDate: '2023-04-10', hours: 8, minutes: 0, totalMinutes: 480, year: 1, completed: true, createdAt: '2023-04-10'},
                {id: 7, text: 'Î∞ïÍ≤ΩÌóò | ÎÇ®Ïûê | 33ÏÑ∏', details: 'PTSD | Ï¢ÖÌï©ÌèâÍ∞Ä | 8ÏãúÍ∞Ñ', taskDate: '2023-04-26', hours: 8, minutes: 0, totalMinutes: 480, year: 1, completed: true, createdAt: '2023-04-26'},
                {id: 8, text: 'ÏÜ°ÌÉúÌïú | ÎÇ®Ïûê | 7ÏÑ∏', details: 'ADHD, Masked depression | Ï¢ÖÌï©ÌèâÍ∞Ä | 8ÏãúÍ∞Ñ', taskDate: '2023-05-09', hours: 8, minutes: 0, totalMinutes: 480, year: 1, completed: true, createdAt: '2023-05-09'},
                {id: 18, text: '1ÎÖÑÏ∞® Ïã¨Î¶¨ÌèâÍ∞Ä ÌÜµÌï©', details: 'Ï¥ù 50Î°Ä ÏôÑÎ£å | 268ÏãúÍ∞Ñ | ÎÇòÎ®∏ÏßÄ 42Î°Ä Ìè¨Ìï®', taskDate: '2024-02-29', hours: 268, minutes: 0, totalMinutes: 16080, year: 1, completed: true, createdAt: '2023-03-01'},
                
                // 2ÎÖÑÏ∞® (2024.3.1 ~ 2025.2.28) - 111Î°Ä, 616ÏãúÍ∞Ñ
                {id: 44, text: 'ÍπÄÏùÄÏö∞ | Ïó¨Ïûê | 14ÏÑ∏', details: 'OCD | Ï¢ÖÌï©ÌèâÍ∞Ä | 8ÏãúÍ∞Ñ', taskDate: '2024-01-10', hours: 8, minutes: 0, totalMinutes: 480, year: 2, completed: true, createdAt: '2024-01-10'},
                {id: 45, text: 'ÍπÄÏùÄÏö∞ | Ïó¨Ïûê | 14ÏÑ∏', details: 'OCD | Î∂ÄÎ™®ÌèâÍ∞Ä(PAI, SCT, PAT) | 2ÏãúÍ∞Ñ', taskDate: '2024-01-10', hours: 2, minutes: 0, totalMinutes: 120, year: 2, completed: true, createdAt: '2024-01-10'},
                {id: 46, text: 'Ïû•Ïó¨Îãò | Ïó¨Ïûê | 88ÏÑ∏', details: 'Dementia | SNSB | 3ÏãúÍ∞Ñ', taskDate: '2024-01-17', hours: 3, minutes: 0, totalMinutes: 180, year: 2, completed: true, createdAt: '2024-01-17'},
                {id: 47, text: 'Ïû•Ïó¨Îãò | Ïó¨Ïûê | 88ÏÑ∏', details: 'Dementia | K-MMSE-2 | 1ÏãúÍ∞Ñ', taskDate: '2024-01-17', hours: 1, minutes: 0, totalMinutes: 60, year: 2, completed: true, createdAt: '2024-01-17'},
                {id: 48, text: 'Ïû•Ïö∞Ï§Ä | ÎÇ®Ïûê | 22ÏÑ∏', details: 'PTSD, Illness anxiety disorder | Ï¢ÖÌï©ÌèâÍ∞Ä | 8ÏãúÍ∞Ñ', taskDate: '2024-02-07', hours: 8, minutes: 0, totalMinutes: 480, year: 2, completed: true, createdAt: '2024-02-07'},
                {id: 154, text: '2ÎÖÑÏ∞® Ïã¨Î¶¨ÌèâÍ∞Ä ÌÜµÌï©', details: 'Ï¥ù 111Î°Ä ÏôÑÎ£å | 616ÏãúÍ∞Ñ | ÎÇòÎ®∏ÏßÄ 106Î°Ä Ìè¨Ìï®', taskDate: '2025-02-28', hours: 616, minutes: 0, totalMinutes: 36960, year: 2, completed: true, createdAt: '2024-03-01'}
            ],
            
            // Ïã¨Î¶¨ÏπòÎ£å Ï∞∏Í∞Ä (ÍµêÏú°Î∂ÑÏÑù) - Ïã§Ï†ú: 0ÏãúÍ∞Ñ (Î™®Îì† Ïó∞Ï∞®)
            therapy_participation: [],
            
            // Í∞úÏù∏Ïã¨Î¶¨ÏπòÎ£å Ïã§Ïãú - Í∞Å ÏÇ¨Î°ÄÎ≥Ñ ÏÉÅÏÑ∏ Îç∞Ïù¥ÌÑ∞
            individual_therapy: [
                // 1ÎÖÑÏ∞® - 14Î°Ä, 355ÏãúÍ∞Ñ (Ï£ºÏπòÎ£åÏûê 8Î°Ä, 126ÏãúÍ∞Ñ)
                {id: 1, text: 'ÏµúÏú§Ìïò | Ïó¨Ïûê | 11ÏÑ∏', details: '2023.04.04 ~ 2023.09.26 | 22ÌöåÍ∏∞ | Ï£ºÏπòÎ£åÏûê | 28ÏãúÍ∞Ñ', taskDate: '2023-04-04', hours: 28, minutes: 0, totalMinutes: 1680, year: 1, isMainTherapist: true, timeBreakdown: 'Ï§ÄÎπÑ 5h + Ïã§Ïãú 18h + Í∞êÎèÖ 5h = 28h', completed: true, createdAt: '2023-04-04'},
                {id: 2, text: 'Î∞∞ÏÑúÏßÑ | ÎÇ®Ïûê | 10ÏÑ∏', details: '2023.05.12 ~ 2023.11.10 | 18ÌöåÍ∏∞ | Ï£ºÏπòÎ£åÏûê | 22ÏãúÍ∞Ñ', taskDate: '2023-05-12', hours: 22, minutes: 0, totalMinutes: 1320, year: 1, isMainTherapist: true, timeBreakdown: 'Ï§ÄÎπÑ 4h + Ïã§Ïãú 15h + Í∞êÎèÖ 3h = 22h', completed: true, createdAt: '2023-05-12'},
                {id: 3, text: 'Ïù¥ÎÇòÍ≤Ω | Ïó¨Ïûê | 7ÏÑ∏', details: '2023.06.12 ~ 2023.07.17 | 4ÌöåÍ∏∞ | Ï£ºÏπòÎ£åÏûê | 5ÏãúÍ∞Ñ', taskDate: '2023-06-12', hours: 5, minutes: 0, totalMinutes: 300, year: 1, isMainTherapist: true, timeBreakdown: 'Ï§ÄÎπÑ 1h + Ïã§Ïãú 3h + Í∞êÎèÖ 1h = 5h', completed: true, createdAt: '2023-06-12'},
                {id: 4, text: 'Ïú†ÏßÄÌôò | ÎÇ®Ïûê | 9ÏÑ∏', details: '2023.07.17 ~ 2023.08.21 | 5ÌöåÍ∏∞ | Ï£ºÏπòÎ£åÏûê | 6ÏãúÍ∞Ñ', taskDate: '2023-07-17', hours: 6, minutes: 0, totalMinutes: 360, year: 1, isMainTherapist: true, timeBreakdown: 'Ï§ÄÎπÑ 1h + Ïã§Ïãú 4h + Í∞êÎèÖ 1h = 6h', completed: true, createdAt: '2023-07-17'},
                {id: 5, text: 'ÏµúÏÑúÏïÑ | Ïó¨Ïûê | 7ÏÑ∏', details: '2023.07.31 ~ 2024.08.29 | 29ÌöåÍ∏∞ | Ï£ºÏπòÎ£åÏûê | 35ÏãúÍ∞Ñ', taskDate: '2023-07-31', hours: 35, minutes: 0, totalMinutes: 2100, year: 1, isMainTherapist: true, timeBreakdown: 'Ï§ÄÎπÑ 8h + Ïã§Ïãú 22h + Í∞êÎèÖ 5h = 35h', completed: true, createdAt: '2023-07-31'},
                {id: 13, text: '1ÎÖÑÏ∞® Í∏∞ÌÉÄ Ïã¨Î¶¨ÏπòÎ£å', details: 'Í∞úÎ≥ÑÏπòÎ£å 9Î°Ä | 259ÏãúÍ∞Ñ', taskDate: '2024-02-29', hours: 259, minutes: 0, totalMinutes: 15540, year: 1, isMainTherapist: false, timeBreakdown: 'Í∏∞ÌÉÄ ÏπòÎ£åÌôúÎèô Ìè¨Ìï® 259h', completed: true, createdAt: '2024-01-15'},

                // 2ÎÖÑÏ∞® - 5Î°Ä, 243ÏãúÍ∞Ñ (Ï£ºÏπòÎ£åÏûê 4Î°Ä, 134ÏãúÍ∞Ñ)
                {id: 15, text: 'Î∞ïÌïòÏûÑ | Ïó¨Ïûê | 7ÏÑ∏', details: '2024.03.08 ~ 2025.02.26 | 32ÌöåÍ∏∞ | Ï£ºÏπòÎ£åÏûê | 44ÏãúÍ∞Ñ', taskDate: '2024-03-08', hours: 44, minutes: 0, totalMinutes: 2640, year: 2, isMainTherapist: true, timeBreakdown: 'Ï§ÄÎπÑ 10h + Ïã§Ïãú 26h + Í∞êÎèÖ 8h = 44h', completed: true, createdAt: '2024-03-08'},
                {id: 16, text: 'ÍπÄÏó∞ÏïÑ | Ïó¨Ïûê | 16ÏÑ∏', details: '2024.03.14 ~ 2025.02.26 | 17ÌöåÍ∏∞ | Ï£ºÏπòÎ£åÏûê | 25ÏãúÍ∞Ñ', taskDate: '2024-03-14', hours: 25, minutes: 0, totalMinutes: 1500, year: 2, isMainTherapist: true, timeBreakdown: 'Ï§ÄÎπÑ 5h + Ïã§Ïãú 16h + Í∞êÎèÖ 4h = 25h', completed: true, createdAt: '2024-03-14'},
                {id: 17, text: 'Ïù¥ÎØºÏàò | ÎÇ®Ïûê | 19ÏÑ∏', details: '2024.05.20 ~ 2024.12.18 | 25ÌöåÍ∏∞ | Ï£ºÏπòÎ£åÏûê | 35ÏãúÍ∞Ñ', taskDate: '2024-05-20', hours: 35, minutes: 0, totalMinutes: 2100, year: 2, isMainTherapist: true, timeBreakdown: 'Ï§ÄÎπÑ 8h + Ïã§Ïãú 20h + Í∞êÎèÖ 7h = 35h', completed: true, createdAt: '2024-05-20'},
                {id: 18, text: 'Ï†ïÏàòÌòÑ | Ïó¨Ïûê | 14ÏÑ∏', details: '2024.08.15 ~ 2025.01.30 | 20ÌöåÍ∏∞ | Ï£ºÏπòÎ£åÏûê | 30ÏãúÍ∞Ñ', taskDate: '2024-08-15', hours: 30, minutes: 0, totalMinutes: 1800, year: 2, isMainTherapist: true, timeBreakdown: 'Ï§ÄÎπÑ 7h + Ïã§Ïãú 17h + Í∞êÎèÖ 6h = 30h', completed: true, createdAt: '2024-08-15'},
                {id: 19, text: '2ÎÖÑÏ∞® Í∏∞ÌÉÄ Ïã¨Î¶¨ÏπòÎ£å', details: 'Í∞úÎ≥ÑÏπòÎ£å 1Î°Ä | 109ÏãúÍ∞Ñ', taskDate: '2024-06-01', hours: 109, minutes: 0, totalMinutes: 6540, year: 2, isMainTherapist: false, timeBreakdown: 'Í∏∞ÌÉÄ ÏπòÎ£åÌôúÎèô Ìè¨Ìï® 109h', completed: true, createdAt: '2024-06-01'}
            ],
            
            // ÏßëÎã®Ïã¨Î¶¨ÏπòÎ£å Ïã§Ïãú - ÌòÑÏû¨ ÏóÜÏùå (Í∞úÏù∏ÏπòÎ£åÏóê Ìè¨Ìï®)
            group_therapy: [],
            
            // ÌïôÏà†ÌöåÏùò Ï∞∏ÏÑù - Ïó∞Ï∞®Î≥Ñ Ï†ïÌôïÌïú Îç∞Ïù¥ÌÑ∞ (Ï¥ù 85Ìöå, 399ÏãúÍ∞Ñ 30Î∂Ñ)
            academic_meeting_attendance: [
                // 1ÎÖÑÏ∞® - ÏàòÎ†®Í∏∞Í¥Ä 32Ìöå(96h) + ÌïôÌöå 7Ìöå(58h 10m) = 39Ìöå, 154ÏãúÍ∞Ñ 10Î∂Ñ
                {id: 1, text: '1ÎÖÑÏ∞® ÏàòÎ†®Í∏∞Í¥Ä ÌïôÏà†ÌöåÏùò', details: '32Ìöå Ï∞∏ÏÑù | Í≤ΩÍ∏∞ÎèÑÏùòÎ£åÏõê ÏùòÏ†ïÎ∂ÄÎ≥ëÏõê', taskDate: '2024-02-29', hours: 96, minutes: 0, totalMinutes: 5760, year: 1, completed: true, createdAt: '2023-04-01'},
                {id: 2, text: '1ÎÖÑÏ∞® ÌïôÌöå ÌïôÏà†ÌöåÏùò', details: '7Ìöå Ï∞∏ÏÑù | ÌïúÍµ≠ÏûÑÏÉÅÏã¨Î¶¨ÌïôÌöå Îì±', taskDate: '2024-02-29', hours: 58, minutes: 10, totalMinutes: 3490, year: 1, completed: true, createdAt: '2023-05-01'},
                // 2ÎÖÑÏ∞® - ÏàòÎ†®Í∏∞Í¥Ä 33Ìöå(99h) + Ïó∞Íµ¨Ìöå 1Ìöå(1h 30m) + ÌïôÌöå 7Ìöå(100h 20m) = 41Ìöå, 200ÏãúÍ∞Ñ 50Î∂Ñ
                {id: 3, text: '2ÎÖÑÏ∞® ÏàòÎ†®Í∏∞Í¥Ä ÌïôÏà†ÌöåÏùò', details: '33Ìöå Ï∞∏ÏÑù | Í≤ΩÍ∏∞ÎèÑÏùòÎ£åÏõê ÏùòÏ†ïÎ∂ÄÎ≥ëÏõê', taskDate: '2025-02-28', hours: 99, minutes: 0, totalMinutes: 5940, year: 2, completed: true, createdAt: '2024-04-01'},
                {id: 4, text: '2ÎÖÑÏ∞® Ïó∞Íµ¨Ìöå ÌïôÏà†ÌöåÏùò', details: '1Ìöå Ï∞∏ÏÑù | Ìä∏ÎùºÏö∞ÎßàÏã¨Î¶¨ÏπòÎ£åÏó∞Íµ¨Ìöå', taskDate: '2024-05-23', hours: 1, minutes: 30, totalMinutes: 90, year: 2, completed: true, createdAt: '2024-05-23'},
                {id: 5, text: '2ÎÖÑÏ∞® ÌïôÌöå ÌïôÏà†ÌöåÏùò', details: '7Ìöå Ï∞∏ÏÑù | ÌïúÍµ≠ÏûÑÏÉÅÏã¨Î¶¨ÌïôÌöå Îì±', taskDate: '2025-02-28', hours: 100, minutes: 20, totalMinutes: 6020, year: 2, completed: true, createdAt: '2024-03-01'},
                // 3ÎÖÑÏ∞® - ÌïôÌöå 5Ìöå(45h)
                {id: 6, text: '3ÎÖÑÏ∞® ÌïôÌöå ÌïôÏà†ÌöåÏùò', details: '5Ìöå Ï∞∏ÏÑù | ÌïúÍµ≠ÏûÑÏÉÅÏã¨Î¶¨ÌïôÌöå', taskDate: '2025-08-25', hours: 45, minutes: 0, totalMinutes: 2700, year: 3, completed: true, createdAt: '2025-03-01'}
            ],
            
            // ÏÇ¨Î°ÄÌöåÏùò Ï∞∏ÏÑù - Ïó∞Ï∞®Î≥Ñ Ï†ïÌôïÌïú Îç∞Ïù¥ÌÑ∞ (Ï¥ù 45Ìöå, 57ÏãúÍ∞Ñ 30Î∂Ñ)
            case_meeting_attendance: [
                // 1ÎÖÑÏ∞® - ÏàòÎ†®Í∏∞Í¥Ä 32Ìöå(32h)
                {id: 1, text: '1ÎÖÑÏ∞® ÏÇ¨Î°ÄÌöåÏùò Ï∞∏ÏÑù', details: '32Ìöå Ï∞∏ÏÑù | ÏàòÎ†®Í∏∞Í¥Ä ÎÇ¥Î∂Ä ÏÇ¨Î°ÄÌöåÏùò', taskDate: '2024-02-29', hours: 32, minutes: 0, totalMinutes: 1920, year: 1, completed: true, createdAt: '2023-04-01'},
                // 2ÎÖÑÏ∞® - ÏàòÎ†®Í∏∞Í¥Ä 12Ìöå(24h) + Ïó∞Íµ¨Ìöå 1Ìöå(1h 30m) = 13Ìöå, 25ÏãúÍ∞Ñ 30Î∂Ñ
                {id: 2, text: '2ÎÖÑÏ∞® ÏàòÎ†®Í∏∞Í¥Ä ÏÇ¨Î°ÄÌöåÏùò', details: '12Ìöå Ï∞∏ÏÑù | ÏàòÎ†®Í∏∞Í¥Ä ÎÇ¥Î∂Ä ÏÇ¨Î°ÄÌöåÏùò', taskDate: '2025-02-28', hours: 24, minutes: 0, totalMinutes: 1440, year: 2, completed: true, createdAt: '2024-04-01'},
                {id: 3, text: '2ÎÖÑÏ∞® Ïó∞Íµ¨Ìöå ÏÇ¨Î°ÄÌöåÏùò', details: '1Ìöå Ï∞∏ÏÑù | Ìä∏ÎùºÏö∞ÎßàÏã¨Î¶¨ÏπòÎ£åÏó∞Íµ¨Ìöå', taskDate: '2024-05-23', hours: 1, minutes: 30, totalMinutes: 90, year: 2, completed: true, createdAt: '2024-05-23'}
            ],
            
            // Ïú§Î¶¨ÍµêÏú° Ï∞∏ÏÑù - 2ÎÖÑÏ∞®Ïóê 1Ìöå
            ethics_education_attendance: [
                {id: 1, text: 'ÏûÑÏÉÅÏã¨Î¶¨ÌïôÏûêÏùò Ïú§Î¶¨ÏôÄ Ï±ÖÏûÑ', details: 'ÌïôÌöå | ÌïúÍµ≠ÏûÑÏÉÅÏã¨Î¶¨ÌïôÌöå | Ïú§Î¶¨ÍµêÏú° Ïù¥Ïàò', taskDate: '2024-04-27', hours: 2, minutes: 0, totalMinutes: 120, year: 2, completed: true, createdAt: '2024-04-27'}
            ],
            
            // ÌïôÏà†ÌöåÏùò Î∞úÌëú - Ïó∞Ï∞®Î≥Ñ Ï†ïÌôïÌïú Îç∞Ïù¥ÌÑ∞ (Ï¥ù 19Ìöå, 57ÏãúÍ∞Ñ)
            academic_presentation: [
                // 1ÎÖÑÏ∞® - 9Ìöå, 27ÏãúÍ∞Ñ
                {id: 1, text: '1ÎÖÑÏ∞® ÌïôÏà†ÌöåÏùò Î∞úÌëú', details: '9Ìöå Î∞úÌëú | ÏàòÎ†®Í∏∞Í¥Ä ÎèÑÏÑúÎ∞úÌëú, ÌïôÏà†Î∞úÌëú Îì±', taskDate: '2024-02-29', hours: 27, minutes: 0, totalMinutes: 1620, year: 1, completed: true, createdAt: '2023-04-01'},
                // 2ÎÖÑÏ∞® - 10Ìöå, 30ÏãúÍ∞Ñ
                {id: 2, text: '2ÎÖÑÏ∞® ÌïôÏà†ÌöåÏùò Î∞úÌëú', details: '10Ìöå Î∞úÌëú | ÏàòÎ†®Í∏∞Í¥Ä ÌïôÏà†Î∞úÌëú Îì±', taskDate: '2025-02-28', hours: 30, minutes: 0, totalMinutes: 1800, year: 2, completed: true, createdAt: '2024-03-01'}
            ],
            
            // ÏÇ¨Î°ÄÎ∞úÌëúÎåÄÏ≤¥ ÌïôÏà†Î∞úÌëú - Ïó∞Ï∞®Î≥Ñ Ï†ïÌôïÌïú Îç∞Ïù¥ÌÑ∞ (Ï¥ù 14Ìöå, 26ÏãúÍ∞Ñ)
            case_presentation_substitute: [
                // 1ÎÖÑÏ∞® - 2Ìöå, 2ÏãúÍ∞Ñ
                {id: 1, text: '1ÎÖÑÏ∞® ÏÇ¨Î°ÄÌöåÏùò Î∞úÌëú', details: '2Ìöå Î∞úÌëú | ÏàòÎ†®Í∏∞Í¥Ä ÏÇ¨Î°ÄÎ∞úÌëú', taskDate: '2024-02-29', hours: 2, minutes: 0, totalMinutes: 120, year: 1, completed: true, createdAt: '2023-04-01'},
                // 2ÎÖÑÏ∞® - 12Ìöå, 24ÏãúÍ∞Ñ
                {id: 2, text: '2ÎÖÑÏ∞® ÏÇ¨Î°ÄÌöåÏùò Î∞úÌëú', details: '12Ìöå Î∞úÌëú | ÏàòÎ†®Í∏∞Í¥Ä ÏÇ¨Î°ÄÎ∞úÌëú', taskDate: '2025-02-28', hours: 24, minutes: 0, totalMinutes: 1440, year: 2, completed: true, createdAt: '2024-04-01'}
            ],
            
            // Ïó∞Íµ¨ÌôúÎèô - Ïã§Ï†ú: 0Ìöå (Î™®Îì† Ïó∞Ï∞®)
            research_activity: [],
            
            // ÎåÄÏô∏ÌòëÎ†• ÏßÄÏõêÏÇ¨ÏóÖ - Ïó∞Ï∞®Î≥Ñ Ï†ïÌôïÌïú Îç∞Ïù¥ÌÑ∞ (Ï¥ù 2Ìöå, 312ÏãúÍ∞Ñ)
            external_cooperation: [
                // 1ÎÖÑÏ∞® - 1Ìöå, 224ÏãúÍ∞Ñ
                {id: 1, text: '1ÎÖÑÏ∞® ÎåÄÏô∏ÌòëÎ†• ÏßÄÏõêÏÇ¨ÏóÖ', details: 'ÏñëÏ£ºÏãúÏ†ïÏã†Í±¥Í∞ïÎ≥µÏßÄÏÑºÌÑ∞ Îì± | 224ÏãúÍ∞Ñ', taskDate: '2024-02-29', hours: 224, minutes: 0, totalMinutes: 13440, year: 1, completed: true, createdAt: '2023-02-19'},
                // 2ÎÖÑÏ∞® - 1Ìöå, 88ÏãúÍ∞Ñ  
                {id: 2, text: '2ÎÖÑÏ∞® ÎåÄÏô∏ÌòëÎ†• ÏßÄÏõêÏÇ¨ÏóÖ', details: 'Ìë∏Î•∏Ï°¥ Îì± | 88ÏãúÍ∞Ñ', taskDate: '2025-02-28', hours: 88, minutes: 0, totalMinutes: 5280, year: 2, completed: true, createdAt: '2024-02-19'}
            ],
            
            // Í∏∞ÌÉÄ ÏàòÎ†®ÏÇ¨Ìï≠ - Ïó∞Ï∞®Î≥Ñ Ï†ïÌôïÌïú Îç∞Ïù¥ÌÑ∞ (Ï¥ù 1Ìöå, 1ÏãúÍ∞Ñ)
            other_training: [
                // 1ÎÖÑÏ∞® - 1Ìöå, 1ÏãúÍ∞Ñ
                {id: 1, text: '1ÎÖÑÏ∞® Í∏∞ÌÉÄ ÏàòÎ†®', details: 'ADHD Í¥ÄÎ†® ÍµêÏú° Îì± | 1ÏãúÍ∞Ñ', taskDate: '2024-02-29', hours: 1, minutes: 0, totalMinutes: 60, year: 1, completed: true, createdAt: '2023-06-15'}
            ]
        };

        // ÏàòÎ†® Ïó∞Ï∞® Ï†ïÏùò
        const trainingYears = {
            1: { name: '1ÎÖÑÏ∞®', period: '2023.3.1 ~ 2024.2.29', target: 1000 },
            2: { name: '2ÎÖÑÏ∞®', period: '2024.3.1 ~ 2025.2.28', target: 1000 },
            3: { name: '3ÎÖÑÏ∞®', period: '2025.3.1 ~ 2026.2.28', target: 1000 },
            all: { name: 'Ï†ÑÏ≤¥', period: 'Ï†ÑÏ≤¥ Í∏∞Í∞Ñ', target: 3000 }
        };

        const categories = {
            psychological_assessment: {
                name: 'Ïã¨Î¶¨ÌèâÍ∞Ä',
                icon: 'brain',
                color: 'purple',
                description: 'Ïã¨Î¶¨ÌèâÍ∞Ä Ïã§Ïãú Í∏∞Î°ù (Ï¥ù 300ÏãúÍ∞Ñ, Ï¢ÖÌï©ÌèâÍ∞Ä 30Î°Ä Ïù¥ÏÉÅ)',
                requirement: 'ÏÑ±Î™Ö, ÏÑ±Î≥Ñ, Ïó∞Î†π, ÏßÑÎã®, Í≤ÄÏÇ¨ Ïã§ÏãúÏùº, Í≤ÄÏÇ¨ Ï¢ÖÎ•ò, Ïù∏Ï†ïÏãúÍ∞Ñ Í∏∞Î°ù',
                subcategories: ['psychological_assessment'],
                targetHours: 300,
                csvSource: 'Ïã§Ï†ú ÏôÑÎ£å: 161Î°Ä, 884ÏãúÍ∞Ñ (1ÎÖÑÏ∞®: 50Î°Ä 268h, 2ÎÖÑÏ∞®: 111Î°Ä 616h)',
                actualCount: 161,
                countUnit: 'Î°Ä',
                fields: ['ÏÑ±Î™Ö', 'ÏÑ±Î≥Ñ', 'Ïó∞Î†π', 'ÏßÑÎã®', 'Í≤ÄÏÇ¨ Ïã§ÏãúÏùº', 'Í≤ÄÏÇ¨ Ï¢ÖÎ•ò', 'Ïù∏Ï†ïÏãúÍ∞Ñ']
            },
            therapy: {
                name: 'Ïã¨Î¶¨ÏπòÎ£å',
                icon: 'heart',
                color: 'green',
                description: 'Ïã¨Î¶¨ÏπòÎ£å Ï∞∏Í∞Ä, Í∞úÏù∏ÏπòÎ£å, ÏßëÎã®ÏπòÎ£å Ïã§Ïãú (Ï¥ù 300ÏãúÍ∞Ñ)',
                requirement: 'ÍµêÏú°Î∂ÑÏÑù, Í∞úÏù∏ÏπòÎ£å, ÏßëÎã®ÏπòÎ£å ÏÑ∏Î∂ÑÌôî Í∏∞Î°ù',
                subcategories: ['therapy_participation', 'individual_therapy', 'group_therapy'],
                targetHours: 300,
                csvSource: 'Ïã§Ï†ú ÏôÑÎ£å: Ï¥ù 19Î°Ä, 598ÏãúÍ∞Ñ (1ÎÖÑÏ∞®: 14Î°Ä 355h, 2ÎÖÑÏ∞®: 5Î°Ä 243h)',
                actualCount: 19,
                countUnit: 'Î°Ä',
                fields: ['ÏπòÎ£å Ïú†Ìòï', 'Í∏∞Í∞Ñ', 'ÌöåÍ∏∞', 'Ï¥ùÏãúÍ∞Ñ', 'ÏπòÎ£åÏ†ëÍ∑ºÎ≤ï']
            },
            attendance_record: {
                name: 'Ï∞∏ÏÑùÍ∏∞Î°ù',
                icon: 'users',
                color: 'blue',
                description: 'ÌïôÏà†ÌöåÏùò, ÏÇ¨Î°ÄÌöåÏùò, Ïú§Î¶¨ÍµêÏú° Ï∞∏ÏÑù Í∏∞Î°ù',
                requirement: 'ÌïôÌöå/ÏßÄÌöå/Ïó∞Íµ¨Ìöå/ÏàòÎ†®Í∏∞Í¥Ä Íµ¨Î∂ÑÌïòÏó¨ Í∏∞Î°ù',
                subcategories: ['academic_meeting_attendance', 'case_meeting_attendance', 'ethics_education_attendance'],
                targetHours: 40,
                csvSource: 'Ïã§Ï†ú ÏôÑÎ£å: 85Ìöå, 459ÏãúÍ∞Ñ 30Î∂Ñ (1ÎÖÑÏ∞®: 39Ìöå, 2ÎÖÑÏ∞®: 41Ìöå, 3ÎÖÑÏ∞®: 5Ìöå)',
                actualCount: 85,
                countUnit: 'Ìöå',
                fields: ['Íµ¨Î∂Ñ', 'Ï∞∏ÏÑùÏùº', 'Ïû•ÏÜå', 'ÌöåÏùòÎ™Ö/Í∞ïÏùòÎ™Ö', 'Ïù∏Ï†ïÏãúÍ∞Ñ']
            },
            presentation_record: {
                name: 'Î∞úÌëúÍ∏∞Î°ù',
                icon: 'presentation',
                color: 'indigo',
                description: 'ÌïôÏà†ÌöåÏùò Î∞úÌëú, ÏÇ¨Î°ÄÎ∞úÌëúÎåÄÏ≤¥ ÌïôÏà†Î∞úÌëú',
                requirement: 'Î∞úÌëú Ïú†Ìòï, Ï†úÎ™©, ÌñâÏÇ¨Î™Ö ÏÉÅÏÑ∏ Í∏∞Î°ù',
                subcategories: ['academic_presentation', 'case_presentation_substitute'],
                targetHours: 4,
                csvSource: 'Ïã§Ï†ú ÏôÑÎ£å: 33Ìöå, 83ÏãúÍ∞Ñ (1ÎÖÑÏ∞®: 11Ìöå, 2ÎÖÑÏ∞®: 22Ìöå)',
                actualCount: 33,
                countUnit: 'Ìöå',
                fields: ['Íµ¨Î∂Ñ', 'Î∞úÌëúÏùº', 'ÌñâÏÇ¨Î™Ö', 'Ïú†Ìòï', 'Î∞úÌëúÏ†úÎ™©', 'Ïù∏Ï†ïÏãúÍ∞Ñ']
            },
            research_and_others: {
                name: 'Ïó∞Íµ¨ÌôúÎèô Î∞è Í∏∞ÌÉÄ',
                icon: 'file-image',
                color: 'orange',
                description: 'Ïó∞Íµ¨ÌôúÎèô, ÎåÄÏô∏ÌòëÎ†• ÏßÄÏõêÏÇ¨ÏóÖ, Í∏∞ÌÉÄ ÏàòÎ†®ÏÇ¨Ìï≠',
                requirement: 'ÎÖºÎ¨∏, ÎåÄÏô∏ÌòëÎ†•, Í∏∞ÌÉÄÌôúÎèô ÏÑ∏Î∂ÑÌôî Í∏∞Î°ù',
                subcategories: ['research_activity', 'external_cooperation', 'other_training'],
                targetHours: 30,
                csvSource: 'Ïã§Ï†ú ÏôÑÎ£å: 3Ìöå, 313ÏãúÍ∞Ñ (1ÎÖÑÏ∞®: 225ÏãúÍ∞Ñ, 2ÎÖÑÏ∞®: 88ÏãúÍ∞Ñ)',
                actualCount: 3,
                countUnit: 'Ìöå',
                fields: ['ÌôúÎèô Ïú†Ìòï', 'ÏùºÏãú/Í∏∞Í∞Ñ', 'Í∏∞Í¥Ä/Ï£ºÏµú', 'Ï†úÎ™©/ÌôúÎèôÎ™Ö', 'Ïù∏Ï†ïÏãúÍ∞Ñ']
            }
        };

        const colorStyles = {
            purple: { bg: 'purple', icon: 'purple-icon', button: 'purple-button', hours: 'purple-hours' },
            green: { bg: 'green', icon: 'green-icon', button: 'green-button', hours: 'green-hours' },
            blue: { bg: 'blue', icon: 'blue-icon', button: 'blue-button', hours: 'blue-hours' },
            indigo: { bg: 'indigo', icon: 'indigo-icon', button: 'indigo-button', hours: 'indigo-hours' },
            orange: { bg: 'orange', icon: 'orange-icon', button: 'orange-button', hours: 'orange-hours' }
        };

        // Helper functions
        function formatTime(totalMinutes) {
            const h = Math.floor(totalMinutes / 60);
            const m = totalMinutes % 60;
            return `${h}ÏãúÍ∞Ñ ${m}Î∂Ñ`;
        }

        function getTotalMinutes(categoryList, yearFilter = 'all') {
            const categories = Array.isArray(categoryList) ? categoryList : [categoryList];
            return categories.reduce((total, cat) => {
                const taskList = tasks[cat] || [];
                return total + taskList.reduce((catTotal, task) => {
                    if (yearFilter !== 'all' && task.year !== yearFilter) {
                        return catTotal;
                    }
                    return catTotal + (task?.completed ? (task.totalMinutes || 0) : 0);
                }, 0);
            }, 0);
        }

        function getDaysLeft(deadline) {
            if (!deadline) return null;
            const today = new Date();
            const targetDate = new Date(deadline);
            const diffTime = targetDate - today;
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            return diffDays;
        }

        function getColorClasses(categoryKey) {
            const category = categories[categoryKey];
            const color = category?.color || 'indigo';
            return colorStyles[color] || colorStyles.indigo;
        }

        function setActiveYear(year) {
            activeYear = year;
            
            document.querySelectorAll('.year-button').forEach(btn => btn.classList.remove('active'));
            if (year === 'all') {
                document.getElementById('yearAll').classList.add('active');
            } else {
                document.getElementById(`year${year}`).classList.add('active');
            }
            
            renderCategoryGrid();
            renderCategoryInfo();
            renderTaskList();
            updateTotalHoursDisplay();
            updateMotivation();
        }
        
        function updateTotalHoursDisplay() {
            const totalMinutes = getTotalMinutes(Object.keys(tasks).filter(key => tasks[key].length > 0), activeYear === 'all' ? 'all' : activeYear);
            const totalHours = Math.floor(totalMinutes / 60);
            document.getElementById('totalHoursDisplay').textContent = `${totalHours}h`;
        }

        function setActiveCategory(categoryKey) {
            activeCategory = categoryKey;
            renderCategoryTabs();
            renderCategoryInfo();
            renderTaskList();
            
            const addButton = document.getElementById('addTaskBtn');
            const colorClasses = getColorClasses(activeCategory);
            addButton.className = `add-button ${colorClasses.button}`;
            
            document.getElementById('categoryTitle').textContent = `${categories[activeCategory].name} Î™©Î°ù`;
        }

        function renderCategoryGrid() {
            const grid = document.getElementById('categoryGrid');
            grid.innerHTML = '';
            
            Object.entries(categories).forEach(([key, category]) => {
                const totalMinutes = getTotalMinutes(category.subcategories || [], activeYear === 'all' ? 'all' : activeYear);
                const totalHours = Math.floor(totalMinutes / 60);
                const colorClasses = getColorClasses(key);
                
                const card = document.createElement('div');
                card.className = `category-card ${colorClasses.bg}`;
                card.onclick = () => setActiveCategory(key);
                
                card.innerHTML = `
                    <div class="category-header">
                        <i data-lucide="${category.icon}" class="${colorClasses.icon}"></i>
                        <span class="category-hours ${colorClasses.icon}">${totalHours}h</span>
                    </div>
                    <h4 class="category-name">${category.name}</h4>
                    <div class="category-time">${formatTime(totalMinutes)}</div>
                    ${category.actualCount ? `<div style="font-size: 0.75rem; color: #6b7280; margin-top: 0.25rem;">ÏôÑÎ£å: ${category.actualCount}${category.countUnit}</div>` : ''}
                `;
                
                grid.appendChild(card);
            });
            
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        }

        function renderCategoryTabs() {
            const tabs = document.getElementById('categoryTabs');
            tabs.innerHTML = '';
            
            Object.entries(categories).forEach(([key, category]) => {
                const tab = document.createElement('button');
                tab.className = `tab ${key === activeCategory ? 'active' : ''}`;
                tab.onclick = () => setActiveCategory(key);
                
                tab.innerHTML = `
                    <i data-lucide="${category.icon}"></i>
                    <span class="tab-text-full">${category.name}</span>
                    <span class="tab-text-short">${category.name.split(' ')[0]}</span>
                `;
                
                tabs.appendChild(tab);
            });
            
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        }

        function renderCategoryInfo() {
            const info = document.getElementById('categoryInfo');
            const category = categories[activeCategory];
            const colorClasses = getColorClasses(activeCategory);
            const totalMinutes = getTotalMinutes(category.subcategories || [], activeYear === 'all' ? 'all' : activeYear);
            
            info.className = `category-info ${colorClasses.bg}`;
            info.innerHTML = `
                <div style="display: flex; align-items: flex-start; gap: 0.75rem;">
                    <i data-lucide="${category.icon}" style="width: 32px; height: 32px;" class="${colorClasses.icon}"></i>
                    <div style="flex: 1;">
                        <h3 class="${colorClasses.icon}">
                            ${category.name}
                        </h3>
                        <p>${category.description}</p>
                        <p style="font-size: 0.875rem;"><span style="font-weight: 500;">üìã Í∏∞Î°ù Ìï≠Î™©:</span> ${category.requirement}</p>
                        <p style="font-size: 0.875rem; margin-top: 0.5rem;"><span style="font-weight: 500;">üìä ÌòÑÏû¨ ÌïÑÌÑ∞:</span> ${activeYear === 'all' ? 'Ï†ÑÏ≤¥' : `${activeYear}ÎÖÑÏ∞®`} (${trainingYears[activeYear].period})</p>
                        ${category.csvSource ? `<p style="font-size: 0.75rem; color: #6b7280; margin-top: 0.5rem;">üìà ${category.csvSource}</p>` : ''}
                        <div style="margin-top: 0.75rem;">
                            <div style="display: flex; justify-content: space-between; font-size: 0.875rem; margin-bottom: 0.25rem;">
                                <span>ÌòÑÏû¨ ÏôÑÎ£å</span>
                                <span style="font-weight: 500;">${formatTime(totalMinutes)}</span>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        }

        function addTask() {
            const newTask = document.getElementById('newTask').value.trim();
            const newTaskDetails = document.getElementById('newTaskDetails').value.trim();
            const hours = parseInt(document.getElementById('hours').value) || 0;
            const minutes = parseInt(document.getElementById('minutes').value) || 0;
            const taskDate = document.getElementById('taskDate').value;
            const newTaskDeadline = document.getElementById('newTaskDeadline').value;
            
            if (!newTask) return;
            
            const totalMinutes = hours * 60 + minutes;
            const task = {
                id: Date.now(),
                text: newTask,
                details: newTaskDetails,
                deadline: newTaskDeadline,
                hours: Math.floor(totalMinutes / 60),
                minutes: totalMinutes % 60,
                totalMinutes: totalMinutes,
                completed: true,
                createdAt: new Date().toLocaleDateString('ko-KR'),
                taskDate: taskDate,
                category: activeCategory,
                year: activeYear === 'all' ? 3 : activeYear
            };

            if (!tasks[activeCategory]) {
                tasks[activeCategory] = [];
            }
            tasks[activeCategory].push(task);
            
            // Clear inputs
            document.getElementById('newTask').value = '';
            document.getElementById('newTaskDetails').value = '';
            document.getElementById('hours').value = '';
            document.getElementById('minutes').value = '';
            document.getElementById('newTaskDeadline').value = '';
            document.getElementById('taskDate').value = new Date().toISOString().split('T')[0];
            
            renderCategoryGrid();
            renderTaskList();
            updateTotalHoursDisplay();
        }

        function renderTaskList() {
            const taskList = document.getElementById('taskList');
            
            if (activeCategory === 'therapy') {
                renderTherapySubcategories(taskList);
            } else if (activeCategory === 'attendance_record') {
                renderAttendanceSubcategories(taskList);
            } else if (activeCategory === 'presentation_record') {
                renderPresentationSubcategories(taskList);
            } else if (activeCategory === 'research_and_others') {
                renderResearchSubcategories(taskList);
            } else {
                renderSimpleTaskList(taskList);
            }
        }

        function renderTherapySubcategories(container) {
            const subcategories = [
                { key: 'therapy_participation', name: '1. Ïã¨Î¶¨ÏπòÎ£å Ï∞∏Í∞Ä (ÍµêÏú°Î∂ÑÏÑù)', icon: 'heart' },
                { key: 'individual_therapy', name: '2. Í∞úÏù∏Ïã¨Î¶¨ÏπòÎ£å Ïã§Ïãú', icon: 'user' },
                { key: 'group_therapy', name: '3. ÏßëÎã®Ïã¨Î¶¨ÏπòÎ£å Ïã§Ïãú', icon: 'users' }
            ];
            
            container.innerHTML = '';
            
            subcategories.forEach(sub => {
                const taskList = tasks[sub.key] || [];
                const filteredTaskList = taskList.filter(task => activeYear === 'all' || task.year === activeYear);
                const totalMinutes = getTotalMinutes([sub.key], activeYear === 'all' ? 'all' : activeYear);
                
                const subcategoryDiv = document.createElement('div');
                subcategoryDiv.className = 'subcategory';
                
                subcategoryDiv.innerHTML = `
                    <h4>
                        <i data-lucide="${sub.icon}" style="width: 16px; height: 16px;" class="green-icon"></i>
                        ${sub.name} - ${filteredTaskList.length}Í∞ú
                        <span class="subcategory-count">ÏôÑÎ£å: ${formatTime(totalMinutes)}</span>
                    </h4>
                    ${filteredTaskList.length === 0 ? 
                        `<p class="subcategory-empty">ÌòÑÏû¨ ÌïÑÌÑ∞(${activeYear === 'all' ? 'Ï†ÑÏ≤¥' : `${activeYear}ÎÖÑÏ∞®`})Ïóê Ìï¥ÎãπÌïòÎäî Í∏∞Î°ùÏù¥ ÏóÜÏäµÎãàÎã§.</p>` :
                        `<div class="subcategory-tasks" id="${sub.key}-tasks"></div>`
                    }
                `;
                
                container.appendChild(subcategoryDiv);
                
                if (filteredTaskList.length > 0) {
                    const tasksContainer = document.getElementById(`${sub.key}-tasks`);
                    filteredTaskList.forEach(task => {
                        renderTaskItem(tasksContainer, task, sub.key);
                    });
                }
            });
            
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        }

        function renderAttendanceSubcategories(container) {
            const subcategories = [
                { key: 'academic_meeting_attendance', name: '1. ÌïôÏà†ÌöåÏùò Ï∞∏ÏÑù', icon: 'graduation-cap' },
                { key: 'case_meeting_attendance', name: '2. ÏÇ¨Î°ÄÌöåÏùò Ï∞∏ÏÑù', icon: 'users' },
                { key: 'ethics_education_attendance', name: '3. Ïú§Î¶¨ÍµêÏú° Ï∞∏ÏÑù', icon: 'check-circle-2' }
            ];
            
            container.innerHTML = '';
            
            subcategories.forEach(sub => {
                const taskList = tasks[sub.key] || [];
                const filteredTaskList = taskList.filter(task => activeYear === 'all' || task.year === activeYear);
                const totalMinutes = getTotalMinutes([sub.key], activeYear === 'all' ? 'all' : activeYear);
                
                const subcategoryDiv = document.createElement('div');
                subcategoryDiv.className = 'subcategory';
                
                subcategoryDiv.innerHTML = `
                    <h4>
                        <i data-lucide="${sub.icon}" style="width: 16px; height: 16px;" class="blue-icon"></i>
                        ${sub.name} - ${filteredTaskList.length}Í∞ú
                        <span class="subcategory-count">ÏôÑÎ£å: ${formatTime(totalMinutes)}</span>
                    </h4>
                    ${filteredTaskList.length === 0 ? 
                        `<p class="subcategory-empty">ÌòÑÏû¨ ÌïÑÌÑ∞(${activeYear === 'all' ? 'Ï†ÑÏ≤¥' : `${activeYear}ÎÖÑÏ∞®`})Ïóê Ìï¥ÎãπÌïòÎäî Í∏∞Î°ùÏù¥ ÏóÜÏäµÎãàÎã§.</p>` :
                        `<div class="subcategory-tasks" id="${sub.key}-tasks"></div>`
                    }
                `;
                
                container.appendChild(subcategoryDiv);
                
                if (filteredTaskList.length > 0) {
                    const tasksContainer = document.getElementById(`${sub.key}-tasks`);
                    filteredTaskList.forEach(task => {
                        renderTaskItem(tasksContainer, task, sub.key);
                    });
                }
            });
            
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        }

        function renderPresentationSubcategories(container) {
            const subcategories = [
                { key: 'academic_presentation', name: '1. ÌïôÏà†ÌöåÏùò Î∞úÌëú', icon: 'presentation' },
                { key: 'case_presentation_substitute', name: '2. ÏÇ¨Î°ÄÎ∞úÌëúÎåÄÏ≤¥ ÌïôÏà†Î∞úÌëú', icon: 'file-image' }
            ];
            
            container.innerHTML = '';
            
            subcategories.forEach(sub => {
                const taskList = tasks[sub.key] || [];
                const filteredTaskList = taskList.filter(task => activeYear === 'all' || task.year === activeYear);
                const totalMinutes = getTotalMinutes([sub.key], activeYear === 'all' ? 'all' : activeYear);
                
                const subcategoryDiv = document.createElement('div');
                subcategoryDiv.className = 'subcategory';
                
                subcategoryDiv.innerHTML = `
                    <h4>
                        <i data-lucide="${sub.icon}" style="width: 16px; height: 16px;" class="indigo-icon"></i>
                        ${sub.name} - ${filteredTaskList.length}Í∞ú
                        <span class="subcategory-count">ÏôÑÎ£å: ${formatTime(totalMinutes)}</span>
                    </h4>
                    ${filteredTaskList.length === 0 ? 
                        `<p class="subcategory-empty">ÌòÑÏû¨ ÌïÑÌÑ∞(${activeYear === 'all' ? 'Ï†ÑÏ≤¥' : `${activeYear}ÎÖÑÏ∞®`})Ïóê Ìï¥ÎãπÌïòÎäî Í∏∞Î°ùÏù¥ ÏóÜÏäµÎãàÎã§.</p>` :
                        `<div class="subcategory-tasks" id="${sub.key}-tasks"></div>`
                    }
                `;
                
                container.appendChild(subcategoryDiv);
                
                if (filteredTaskList.length > 0) {
                    const tasksContainer = document.getElementById(`${sub.key}-tasks`);
                    filteredTaskList.forEach(task => {
                        renderTaskItem(tasksContainer, task, sub.key);
                    });
                }
            });
            
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        }

        function renderResearchSubcategories(container) {
            const subcategories = [
                { key: 'research_activity', name: '1. Ïó∞Íµ¨ÌôúÎèô', icon: 'book-open' },
                { key: 'external_cooperation', name: '2. ÎåÄÏô∏ÌòëÎ†• ÏßÄÏõêÏÇ¨ÏóÖ', icon: 'building' },
                { key: 'other_training', name: '3. Í∏∞ÌÉÄ ÏàòÎ†®ÏÇ¨Ìï≠', icon: 'file-image' }
            ];
            
            container.innerHTML = '';
            
            subcategories.forEach(sub => {
                const taskList = tasks[sub.key] || [];
                const filteredTaskList = taskList.filter(task => activeYear === 'all' || task.year === activeYear);
                const totalMinutes = getTotalMinutes([sub.key], activeYear === 'all' ? 'all' : activeYear);
                
                const subcategoryDiv = document.createElement('div');
                subcategoryDiv.className = 'subcategory';
                
                subcategoryDiv.innerHTML = `
                    <h4>
                        <i data-lucide="${sub.icon}" style="width: 16px; height: 16px;" class="orange-icon"></i>
                        ${sub.name} - ${filteredTaskList.length}Í∞ú
                        <span class="subcategory-count">ÏôÑÎ£å: ${formatTime(totalMinutes)}</span>
                    </h4>
                    ${filteredTaskList.length === 0 ? 
                        `<p class="subcategory-empty">ÌòÑÏû¨ ÌïÑÌÑ∞(${activeYear === 'all' ? 'Ï†ÑÏ≤¥' : `${activeYear}ÎÖÑÏ∞®`})Ïóê Ìï¥ÎãπÌïòÎäî Í∏∞Î°ùÏù¥ ÏóÜÏäµÎãàÎã§.</p>` :
                        `<div class="subcategory-tasks" id="${sub.key}-tasks"></div>`
                    }
                `;
                
                container.appendChild(subcategoryDiv);
                
                if (filteredTaskList.length > 0) {
                    const tasksContainer = document.getElementById(`${sub.key}-tasks`);
                    filteredTaskList.forEach(task => {
                        renderTaskItem(tasksContainer, task, sub.key);
                    });
                }
            });
            
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        }

        function renderSimpleTaskList(container) {
            const taskList = tasks[activeCategory] || [];
            const filteredTaskList = taskList.filter(task => activeYear === 'all' || task.year === activeYear);
            
            if (filteredTaskList.length === 0) {
                const colorClasses = getColorClasses(activeCategory);
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="icon">
                            <i data-lucide="${categories[activeCategory].icon}" style="width: 64px; height: 64px;"></i>
                        </div>
                        <p>ÌòÑÏû¨ ÌïÑÌÑ∞(${activeYear === 'all' ? 'Ï†ÑÏ≤¥' : `${activeYear}ÎÖÑÏ∞®`})Ïóê Ìï¥ÎãπÌïòÎäî Ìï≠Î™©Ïù¥ ÏóÜÏäµÎãàÎã§.</p>
                        <p>ÏúÑÏóêÏÑú ÏÉà Ìï≠Î™©ÏùÑ Ï∂îÍ∞ÄÌïòÍ±∞ÎÇò Îã§Î•∏ Ïó∞Ï∞®Î•º ÏÑ†ÌÉùÌï¥Î≥¥ÏÑ∏Ïöî!</p>
                    </div>
                `;
            } else {
                container.innerHTML = '';
                filteredTaskList.forEach(task => {
                    renderTaskItem(container, task, activeCategory);
                });
            }
            
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        }

        function renderTaskItem(container, task, categoryKey) {
            if (!task) return;
            
            // Ïó∞Ï∞® ÌïÑÌÑ∞ÎßÅ
            if (activeYear !== 'all' && task.year !== activeYear) {
                return;
            }
            
            const colorClasses = getColorClasses(activeCategory);
            
            const taskDiv = document.createElement('div');
            taskDiv.className = 'task-item';
            
            taskDiv.innerHTML = `
                <div class="task-content">
                    <div class="task-checkbox">
                        <i data-lucide="check" style="width: 16px; height: 16px;"></i>
                    </div>
                    
                    <div class="task-info">
                        <div class="task-title">
                            ${task.text}
                            ${task.year ? `<span style="margin-left: 0.5rem; padding: 0.25rem 0.5rem; font-size: 0.75rem; background: #eef2ff; color: #4f46e5; border-radius: 9999px;">${task.year}ÎÖÑÏ∞®</span>` : ''}
                            ${task.isMainTherapist ? `<span style="margin-left: 0.5rem; padding: 0.25rem 0.5rem; font-size: 0.75rem; background: #fef2f2; color: #dc2626; border-radius: 9999px;">Ï£ºÏπòÎ£åÏûê</span>` : ''}
                            ${(task.hours > 0 || task.minutes > 0) ? 
                                `<span class="task-hours ${colorClasses.hours}">${task.hours}ÏãúÍ∞Ñ ${task.minutes}Î∂Ñ</span>` : ''
                            }
                        </div>
                        
                        ${task.details ? 
                            `<div class="task-details">${task.details}</div>` : ''
                        }
                        
                        ${task.timeBreakdown ? 
                            `<div style="font-size: 0.75rem; color: #6b7280; margin-top: 0.25rem;">${task.timeBreakdown}</div>` : ''
                        }
                        
                        <div class="task-meta">
                            ${task.taskDate ? 
                                `<span class="task-date">ÏàòÌñâÏùº: ${new Date(task.taskDate).toLocaleDateString('ko-KR')}</span>` : ''
                            }
                        </div>
                    </div>

                    <button class="delete-button" onclick="deleteTask(${task.id}, '${categoryKey}')">
                        <i data-lucide="x" style="width: 18px; height: 18px;"></i>
                    </button>
                </div>
            `;
            
            container.appendChild(taskDiv);
            
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        }

        function deleteTask(id, categoryKey) {
            if (confirm('Ïù¥ Ìï≠Î™©ÏùÑ ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?')) {
                tasks[categoryKey] = (tasks[categoryKey] || []).filter(task => task.id !== id);
                renderCategoryGrid();
                renderTaskList();
                updateTotalHoursDisplay();
            }
        }

        function setupEventListeners() {
            document.getElementById('finalGoal').addEventListener('input', updateFinalGoal);
            document.getElementById('goalDeadline').addEventListener('change', updateGoalDeadline);
            document.getElementById('addTaskBtn').addEventListener('click', addTask);
            document.getElementById('newTask').addEventListener('keypress', (e) => {
                if (e.key === 'Enter' && !e.shiftKey) addTask();
            });
        }

        function updateFinalGoal(e) {
            finalGoal = e.target.value;
            updateMotivation();
        }

        function updateGoalDeadline(e) {
            goalDeadline = e.target.value;
            const deadlineInfo = document.getElementById('deadlineInfo');
            const deadlineText = document.getElementById('deadlineText');
            
            if (goalDeadline) {
                const daysLeft = getDaysLeft(goalDeadline);
                let text = '';
                if (daysLeft > 0) text = `D-${daysLeft}Ïùº`;
                else if (daysLeft === 0) text = 'Ïò§ÎäòÏù¥ Î™©ÌëúÏùº!';
                else text = `${Math.abs(daysLeft)}Ïùº ÏßÄÎÇ®`;
                
                deadlineText.textContent = text;
                deadlineInfo.style.display = 'block';
            } else {
                deadlineInfo.style.display = 'none';
            }
            
            updateMotivation();
        }

        function updateMotivation() {
            const motivationSection = document.getElementById('motivationSection');
            const motivationTitle = document.getElementById('motivationTitle');
            
            if (finalGoal) {
                const yearText = activeYear === 'all' ? 'Ï†ÑÏ≤¥ ÏàòÎ†®Í≥ºÏ†ï' : `${trainingYears[activeYear].name} ÏàòÎ†®Í≥ºÏ†ï`;
                const totalMinutes = getTotalMinutes(Object.keys(tasks).filter(key => tasks[key].length > 0), activeYear === 'all' ? 'all' : activeYear);
                const totalHours = Math.floor(totalMinutes / 60);
                
                motivationTitle.innerHTML = `
                    <div style="font-size: 1.25rem; font-weight: bold; margin-bottom: 0.5rem;">üèÜ "${finalGoal}" Îã¨ÏÑ±ÏùÑ Ìñ•Ìï¥ ÌôîÏù¥ÌåÖ!</div>
                    <div style="color: rgba(199, 210, 254, 1); margin-bottom: 1rem;">
                        ${yearText}Ïù¥ Ï≤¥Í≥ÑÏ†ÅÏúºÎ°ú Í∏∞Î°ùÎêòÏóàÏäµÎãàÎã§. (ÌòÑÏû¨ ÏôÑÎ£å: ${totalHours}ÏãúÍ∞Ñ)
                    </div>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-top: 1rem;">
                        <div style="background: rgba(255, 255, 255, 0.1); border-radius: 0.5rem; padding: 0.75rem;">
                            <div style="font-weight: bold; font-size: 1.125rem;">üìä ÏôÑÎ£å ÌòÑÌô©</div>
                            ${activeYear === 'all' ? `
                                <div>‚úÖ Ïã¨Î¶¨ÌèâÍ∞Ä: 161Î°Ä (884h)</div>
                                <div>‚úÖ Ïã¨Î¶¨ÏπòÎ£å: 19Î°Ä (598h)</div>
                                <div>‚úÖ ÌïôÏà†Ï∞∏ÏÑù: 85Ìöå (459h)</div>
                            ` : activeYear === 1 ? `
                                <div>‚úÖ Ïã¨Î¶¨ÌèâÍ∞Ä: 50Î°Ä (268h)</div>
                                <div>‚úÖ Ïã¨Î¶¨ÏπòÎ£å: 14Î°Ä (355h)</div>
                                <div>‚úÖ ÌïôÏà†Ï∞∏ÏÑù: 39Ìöå (154h)</div>
                            ` : activeYear === 2 ? `
                                <div>‚úÖ Ïã¨Î¶¨ÌèâÍ∞Ä: 111Î°Ä (616h)</div>
                                <div>‚úÖ Ïã¨Î¶¨ÏπòÎ£å: 5Î°Ä (243h)</div>
                                <div>‚úÖ ÌïôÏà†Ï∞∏ÏÑù: 41Ìöå (201h)</div>
                            ` : `
                                <div>üîÑ Ïã¨Î¶¨ÌèâÍ∞Ä: 0Î°Ä (0h)</div>
                                <div>üîÑ Ïã¨Î¶¨ÏπòÎ£å: 0Î°Ä (0h)</div>
                                <div>üîÑ ÌïôÏà†Ï∞∏ÏÑù: 5Ìöå (45h)</div>
                            `}
                        </div>
                        
                        <div style="background: rgba(255, 255, 255, 0.1); border-radius: 0.5rem; padding: 0.75rem;">
                            <div style="font-weight: bold; font-size: 1.125rem;">‚è∞ Îã¨ÏÑ±Î•†</div>
                            ${activeYear === 'all' ? `
                                <div>Ï†ÑÏ≤¥ ÏßÑÎèÑ: ${totalHours}h / 3,000h (${Math.round(totalHours/30)}%)</div>
                                <div>1ÎÖÑÏ∞®: 1,063h (106% ÏôÑÎ£å)</div>
                                <div>2ÎÖÑÏ∞®: 1,227h (123% ÏôÑÎ£å)</div>
                                <div>3ÎÖÑÏ∞®: 45h (5% ÏßÑÌñâÏ§ë)</div>
                            ` : activeYear === 1 ? `
                                <div>Ïó∞Í∞Ñ Îã¨ÏÑ±: 1,063h / 1,000h</div>
                                <div>Îã¨ÏÑ±Î•†: 106% ‚úÖ Ï¥àÍ≥ºÎã¨ÏÑ±</div>
                                <div>Ï¥àÍ≥ºÎ∂Ñ: +63ÏãúÍ∞Ñ</div>
                            ` : activeYear === 2 ? `
                                <div>Ïó∞Í∞Ñ Îã¨ÏÑ±: 1,227h / 1,000h</div>
                                <div>Îã¨ÏÑ±Î•†: 123% ‚úÖ Ï¥àÍ≥ºÎã¨ÏÑ±</div>
                                <div>Ï¥àÍ≥ºÎ∂Ñ: +227ÏãúÍ∞Ñ</div>
                            ` : `
                                <div>ÌòÑÏû¨ ÏßÑÎèÑ: 45h / 1,000h</div>
                                <div>Îã¨ÏÑ±Î•†: 5% üîÑ ÏßÑÌñâÏ§ë</div>
                                <div>ÎÇ®ÏùÄ Î™©Ìëú: 955ÏãúÍ∞Ñ</div>
                            `}
                        </div>
                        
                        <div style="background: rgba(255, 255, 255, 0.1); border-radius: 0.5rem; padding: 0.75rem;">
                            <div style="font-weight: bold; font-size: 1.125rem;">üéØ Î™©Ìëú ÌòÑÌô©</div>
                            ${activeYear === 'all' ? `
                                <div>Ï†ÑÏ≤¥ 3ÎÖÑ Í≥ºÏ†ï ÏßÑÌñâÏ§ë</div>
                                <div>1,2ÎÖÑÏ∞® Ï¥àÍ≥ºÎã¨ÏÑ± ÏôÑÎ£å</div>
                                <div>3ÎÖÑÏ∞® Ï¥àÎ∞ò Îã®Í≥Ñ</div>
                            ` : activeYear === 1 ? `
                                <div>1ÎÖÑÏ∞® ÏôÑÎ£å (2024.2.29)</div>
                                <div>Î™©Ìëú Ï¥àÍ≥ºÎã¨ÏÑ± ‚úÖ</div>
                                <div>Ïö∞ÏàòÌïú ÏàòÎ†® ÏÑ±Í≥º</div>
                            ` : activeYear === 2 ? `
                                <div>2ÎÖÑÏ∞® ÏôÑÎ£å (2025.2.28)</div>
                                <div>Î™©Ìëú Ï¥àÍ≥ºÎã¨ÏÑ± ‚úÖ</div>
                                <div>ÌôúÎ∞úÌïú ÏàòÎ†® ÌôúÎèô</div>
                            ` : `
                                <div>3ÎÖÑÏ∞® ÏßÑÌñâÏ§ë (2025.3~2026.2)</div>
                                <div>Ï¥àÎ∞ò Îã®Í≥Ñ (8Ïõî ÌòÑÏû¨)</div>
                                <div>Ï∂©Î∂ÑÌïú ÏãúÍ∞Ñ Ïó¨Ïú†</div>
                            `}
                        </div>
                    </div>
                `;
                motivationSection.style.display = 'block';
            } else {
                motivationSection.style.display = 'none';
            }
        }

        // Initialize page
        function init() {
            setupEventListeners();
            renderCategoryGrid();
            renderCategoryTabs();
            renderCategoryInfo();
            renderTaskList();
            updateTotalHoursDisplay();
            
            // Set today's date as default
            document.getElementById('taskDate').value = new Date().toISOString().split('T')[0];
            
            // Set default goal
            document.getElementById('finalGoal').value = '2027ÎÖÑ ÏûÑÏÉÅÏã¨Î¶¨Ï†ÑÎ¨∏Í∞Ä ÏûêÍ≤© Ï∑®Îìù';
            updateMotivation();
            
            // Initialize Lucide icons with error handling
            setTimeout(() => {
                if (typeof lucide !== 'undefined') {
                    lucide.createIcons();
                } else {
                    console.warn('Lucide icons not loaded, using fallback icons');
                }
            }, 100);
        }

        // Initialize the application
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>